{% load static%}
{% load crispy_forms_tags %}

<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <script src="{% static 'js/bootstrap.bundle.js' %}"></script>
    <script src="{% static 'js/all.js' %}"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

    <title>Todo List</title>
  </head>
  
  <body hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' >
  {% include 'main/navbar.html' %}
  <div class="container mt-2">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <h2 class="my-4">Todo List</h2><br><br>
        <ul class="list-group" id="list-group">
          {% for todo in all_todos %}
            {% include 'main/todoelement.html' %}
          {% empty %}
          <li class="list-group">Your List Is Empty :)</li>
          {% endfor %}
        </ul>  
        <form method="post">
          {{ form|crispy }}
          <button class="btn btn-primary" type="submit"
                  hx-post="{% url 'add' %}"
                  hx-target="#list-group"
                  hx-swap="beforeend"          
                  >
              Add
          </button>
      </form>
      </div>
    </div>
  </div>
</body>
</html>





{% comment %}
  
{% if todo.is_done %}
           <li 
            class="list-group-item d-flex justify-content-between align-items-center">
            <label class="form-check-label w-100">
              <div class="form-check">

                <a href="{% url 'check_uncheck' todo.id %}"><i class="fa-solid fa-circle-check fa-xl"></i> </a>
                <span class="ml-2">&nbsp; <del>{{todo}}</del> </span>
          {% else %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <label class="form-check-label w-100">
              <div class="form-check">
                <a href="{% url 'check_uncheck' todo.id %}"><i class="fa-regular fa-circle-check fa-xl"></i></a>
                <span class="ml-2">&nbsp; {{todo}} </span>
          {% endif %}
{% endcomment %}
  